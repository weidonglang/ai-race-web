<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>案例一：简单迷宫训练结果 · AI Race</title>
  <link rel="stylesheet" href="/src/style.css"/>

  <style>
    main.doc-page{
      max-width: 960px;
      margin:24px auto 40px;
      padding:0 16px 40px;
    }

    .doc-hero,
    .doc-section{
      position:relative;
      margin-top:24px;
      padding:20px 20px 22px;
      border-radius:18px;
      border:1px solid #1c2533;
      background:radial-gradient(circle at top left,
                  rgba(34,197,94,0.16), rgba(15,23,42,1) 55%);
      overflow:hidden;
      opacity:0;
      transform:translateY(22px);
      transition:
        opacity .65s ease-out,
        transform .65s ease-out,
        box-shadow .65s ease-out,
        border-color .65s ease-out,
        background 1s ease-out;
    }
    .doc-hero::before,
    .doc-section::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:linear-gradient(120deg,
                  rgba(22,163,74,0.0),
                  rgba(22,163,74,0.36),
                  rgba(59,130,246,0.0));
      transform:translateX(-45%);
      opacity:0;
      transition:
        transform 1.1s ease-out,
        opacity 1.1s ease-out;
      pointer-events:none;
    }
    .doc-visible{
      opacity:1;
      transform:none;
      box-shadow:0 26px 70px rgba(0,0,0,.55);
      border-color:rgba(22,163,74,.85);
      background:radial-gradient(circle at top left,
                  rgba(34,197,94,0.22), rgba(15,23,42,1) 60%);
    }
    .doc-visible::before{
      transform:translateX(0);
      opacity:1;
    }

    .doc-hero h1{
      margin:0 0 8px;
      font-size:26px;
    }
    .doc-hero p{
      margin:4px 0 0;
      color:var(--muted);
      font-size:13px;
      max-width:540px;
    }

    .doc-section h2{
      margin:0 0 8px;
      font-size:20px;
    }
    .doc-section h3{
      margin:14px 0 4px;
      font-size:15px;
    }
    .doc-section p{
      margin:4px 0 8px;
      font-size:14px;
      line-height:1.65;
      color:var(--muted);
    }
    .doc-section ul{
      margin:6px 0 8px 1.1em;
      padding:0;
      font-size:14px;
      color:var(--muted);
    }
    .doc-section li{margin:2px 0;}
    code{
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      background:#020617;
      padding:1px 4px;
      border-radius:4px;
      border:1px solid #1f2937;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:2px 9px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.4);
      background:rgba(15,23,42,.9);
      font-size:11px;
      color:var(--muted);
    }
    .pill strong{color:#e5f3ff;font-size:11px;}
  </style>

  <!-- 统一案例/FAQ 组的新外观（与帮助组截然不同） -->
  <style>
    :root{
      --case-accent: #38bdf8;
      --case-accent-2: #f472b6;
      --case-border: #1f2737;
      --case-surface: #0b1220;
      --case-muted: #b7c4da;
    }
    main.doc-page{
      max-width: 980px;
      margin:28px auto 44px;
      padding:0 18px 44px;
    }
    .doc-hero,
    .doc-section{
      position:relative;
      margin-top:26px;
      padding:22px 22px 24px;
      border-radius:14px;
      border:1px solid var(--case-border);
      border-left:3px solid var(--case-accent);
      background:
        linear-gradient(145deg, rgba(56,189,248,0.12), rgba(244,114,182,0.08)),
        linear-gradient(0deg, rgba(255,255,255,0.02), rgba(255,255,255,0)),
        var(--case-surface);
      box-shadow:0 18px 44px rgba(0,0,0,0.55);
      overflow:hidden;
      opacity:0;
      transform:translateY(18px) scale(0.99);
      transition:
        opacity .5s ease-out,
        transform .5s ease-out,
        box-shadow .5s ease-out,
        border-color .5s ease-out,
        background .8s ease-out;
    }
    .doc-hero::before,
    .doc-section::before{
      content:"";
      position:absolute;
      top:0; left:0; right:0;
      height:3px;
      background:linear-gradient(90deg, var(--case-accent), var(--case-accent-2));
      opacity:0.9;
    }
    .doc-hero::after,
    .doc-section::after{
      content:"";
      position:absolute;
      inset:6px;
      border-radius:12px;
      background:radial-gradient(circle at 14% 0%, rgba(56,189,248,0.10), transparent 55%);
      opacity:0;
      transition:opacity .8s ease-out;
      pointer-events:none;
    }
    .doc-visible{
      opacity:1;
      transform:translateY(0) scale(1);
      border-color:color-mix(in srgb, var(--case-accent) 70%, var(--case-border) 30%);
      box-shadow:0 24px 60px rgba(0,0,0,0.6);
    }
    .doc-visible::after{
      opacity:1;
    }
    .doc-hero h1{
      margin:0 0 8px;
      font-size:26px;
      letter-spacing:.01em;
    }
    .doc-hero p{
      margin:4px 0 0;
      color:var(--case-muted);
      font-size:13px;
      max-width:560px;
    }
    .doc-section h2{
      margin:0 0 8px;
      font-size:20px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .doc-section h3{
      margin:14px 0 6px;
      font-size:15px;
    }
    .doc-section p{
      margin:4px 0 8px;
      font-size:14px;
      line-height:1.65;
      color:var(--case-muted);
    }
    .doc-section ul{
      margin:6px 0 8px 1.1em;
      padding:0;
      font-size:14px;
      color:var(--case-muted);
    }
    .doc-section li{ margin:2px 0; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:3px 10px;
      border-radius:999px;
      background:rgba(56,189,248,0.14);
      border:1px solid rgba(56,189,248,0.4);
      color:#e0f2fe;
      font-size:12px;
      font-weight:600;
    }
    .case-topbar{
      max-width: 980px;
      margin:16px auto 0;
      padding:0 18px;
      display:flex;
      justify-content:flex-start;
    }
    .case-back{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:12px;
      border:1px solid var(--case-border);
      background:linear-gradient(120deg, rgba(56,189,248,0.14), rgba(244,114,182,0.12));
      color:#e5e7eb;
      cursor:pointer;
      font-size:13px;
      letter-spacing:0.1px;
      box-shadow:0 10px 28px rgba(0,0,0,0.35);
      transition:transform .15s ease, border-color .2s ease, background .2s ease;
    }
    .case-back:hover{
      transform:translateY(-1px);
      border-color:var(--case-accent);
      background:linear-gradient(120deg, rgba(56,189,248,0.22), rgba(244,114,182,0.18));
    }
    .case-back:active{ transform:translateY(0); }
  </style>
</head>
<body>
<header class="guide-header">
  <div class="guide-header-inner">
    <a href="index.html" class="brand">
      <img src="/log.svg" alt="AI Race logo" class="brand-logo">
      <span class="brand-text">AI Race</span>
    </a>
    <ul class="nav">
      <li><a href="editor.html">编辑器</a></li>
      <li><a href="lab.html">AI 实验室</a></li>
      <li><a href="dashboard.html">训练看板</a></li>
      <li><a href="arena.html">对抗 Arena</a></li>
      <li>
        <a href="#">更多 ▾</a>
        <div class="dropdown">
          <a href="help.html">帮助/原理</a>
          <a href="about.html">关于</a>
        </div>
      </li>
    </ul>
    <button class="back-btn" onclick="if (history.length > 1) history.back(); else location.href='index.html'">返回</button>
  </div>
</header>

<div class="case-topbar">
  <button class="case-back" type="button"
    onclick="if (history.length > 1) { history.back(); } else { window.location.href='index.html'; }">
    ← 返回
  </button>
</div>

  <main class="doc-page">
  <section class="doc-hero">
    <span class="pill"><strong>Case 1</strong><span>易迷宫 · 入门收敛示例</span></span>
    <h1>案例一：简单迷宫训练结果</h1>
    <p>
      本案例选取一张尺寸较小、结构清晰的简单迷宫，展示从零开始训练
      Q-learning 智能体的完整过程，并配合训练看板给出一套「可以复现」的
      收敛曲线示例。
    </p>
  </section>

  <section class="doc-section">
    <h2>① 场景设定：简单迷宫 & 基本奖励</h2>
    <p>
      建议在 Arena 中选择类似 <code>maze_easy_000.json</code> 的迷宫：
    </p>
    <ul>
      <li>迷宫尺寸较小（例如 10×10 / 12×12）。</li>
      <li>不存在复杂的环形结构和长走廊。</li>
      <li>起点与终点距离适中（最短路径步数 &lt; 40）。</li>
    </ul>
    <p>
      奖励函数使用项目默认配置（详见
      <a href="help_rewards.html">奖励函数设计</a>）：
    </p>
    <ul>
      <li>每走一步给一个小的时间惩罚（例如 −0.01）。</li>
      <li>到达终点给较大的正奖励（例如 +1）。</li>
      <li>撞墙或非法移动给额外惩罚。</li>
    </ul>
    <p>
      在这样简化的条件下，Q-learning 通常可以在几百局内收敛到
      接近最短路径的策略。
    </p>
  </section>

  <section class="doc-section">
    <h2>② Lab 参数配置示例</h2>
    <p>下面是一组适合简单迷宫的参数建议（只是一种参考）：</p>
    <ul>
      <li>折扣因子 γ：<code>0.95</code></li>
      <li>学习率 α：
        <ul>
          <li>A：<code>0.2</code></li>
          <li>B：<code>0.1</code>（更平滑）</li>
        </ul>
      </li>
      <li>初始探索率 ε：
        <ul>
          <li>A：<code>1.0</code></li>
          <li>B：<code>0.8</code></li>
        </ul>
      </li>
      <li>ε 衰减系数：
        <ul>
          <li>A：<code>0.995</code></li>
          <li>B：<code>0.990</code></li>
        </ul>
      </li>
      <li>ε 最小值：<code>0.05</code></li>
      <li>单局最大步数：约为最短步数的 4–5 倍。</li>
      <li>最近窗口大小（统计用）：<code>100</code> 局。</li>
    </ul>
    <p>
      把这组参数填写到 Lab 中并保存，然后在 Arena 里载入简单迷宫，
      开始 RL 训练。
    </p>
  </section>

  <section class="doc-section">
    <h2>③ 训练过程：从随机乱走到稳定通关</h2>
    <p>在 Arena 中启动 RL 训练，观察 RL 面板和 Dashboard 曲线，一般会经历几阶段：</p>
    <h3>阶段 1：完全随机（Episode 0 ~ 200）</h3>
    <ul>
      <li>成功率曲线接近 0%，甚至长时间为 0。</li>
      <li>平均步数远高于最短步数，有大量重复探索和死路。</li>
      <li>ε 仍接近 1，几乎完全在「乱逛」。</li>
    </ul>

    <h3>阶段 2：成功率开始抬头（Episode 200 ~ 600）</h3>
    <ul>
      <li>成功率曲线开始从 0% 上升到 40%–60%。</li>
      <li>部分局中智能体已经探索出一条可行路径，但不一定最短。</li>
      <li>平均步数 / 最短步数比值显著下降。</li>
    </ul>

    <h3>阶段 3：收敛到稳定策略（Episode 600 之后）</h3>
    <ul>
      <li>成功率可以在最近窗口内接近 100%。</li>
      <li>平均步数很接近最短步数（例如 1.1 以内）。</li>
      <li>ε 接近 <code>epsilonMin</code>，智能体主要在利用已学到的 Q 表。</li>
    </ul>
    <p>
      这三段的「典型形状」会在
      <a href="help_dashboard_usage.html">训练看板图表</a> 中看到：
      成功率曲线由低到高、步数比由高到低、ε 曲线由 1 缓慢衰减到
      <code>epsilonMin</code>。
    </p>
  </section>

  <section class="doc-section">
    <h2>④ A/B 智能体对比：谁学得更快？</h2>
    <p>
      在上述参数配置下，A 与 B 之间往往会出现「谁先收敛、谁更稳」的差别：
    </p>
    <ul>
      <li>A 的 α 较大，ε 衰减较慢：可能更快发现可行路径，但早期波动较大。</li>
      <li>B 的 α 较小，ε 衰减稍快：学习过程更平滑，但可能略慢收敛。</li>
    </ul>
    <p>
      可以在 Dashboard 中重点对照：
    </p>
    <ul>
      <li>首次达到「成功率 &gt; 90%」所对应的 Episode 编号。</li>
      <li>稳定期的「平均步数 / 最短步数」谁更小。</li>
    </ul>
    <p>
      这组简单迷宫结果可以作为「论文/报告」中的第一张基准曲线，
      说明本系统在简单任务上可以稳定收敛。
    </p>
  </section>

  <section class="doc-section">
    <h2>⑤ 如何在报告 / 展示中使用本案例</h2>
    <p>建议在报告中这样使用本案例：</p>
    <ul>
      <li>附一张简单迷宫的俯视图，标出起点 / 终点。</li>
      <li>展示一张成功率曲线、一张平均步数曲线，突出「由乱到稳」的过程。</li>
      <li>简单给出 Lab 参数表，说明这是可复现实验。</li>
      <li>提一句：后续将在更复杂迷宫和不同参数下做进一步对比（引到案例二 / 三）。</li>
    </ul>
  </section>
</main>

<footer class="footer">© 2025 AI Race Demo</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const els = document.querySelectorAll('.doc-hero, .doc-section')
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('doc-visible')
          io.unobserve(e.target)
        }
      })
    }, { threshold: 0.18 })
    els.forEach(el => io.observe(el))
  })
</script>
</body>
</html>



