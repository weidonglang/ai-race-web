<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>案例二：中等迷宫与参数对比 · AI Race</title>
  <link rel="stylesheet" href="/src/style.css"/>

  <style>
    main.doc-page{
      max-width: 960px;
      margin:24px auto 40px;
      padding:0 16px 40px;
    }

    .doc-hero,
    .doc-section{
      position:relative;
      margin-top:24px;
      padding:20px 20px 22px;
      border-radius:18px;
      border:1px solid #1c2533;
      background:radial-gradient(circle at top left,
                  rgba(59,130,246,0.18), rgba(15,23,42,1) 55%);
      overflow:hidden;
      opacity:0;
      transform:translateY(22px);
      transition:
        opacity .65s ease-out,
        transform .65s ease-out,
        box-shadow .65s ease-out,
        border-color .65s ease-out,
        background 1s ease-out;
    }
    .doc-hero::before,
    .doc-section::before{
      content:"";
      position:absolute;
      inset:-1px;
      background:linear-gradient(120deg,
                  rgba(59,130,246,0.0),
                  rgba(59,130,246,0.4),
                  rgba(56,189,248,0.0));
      transform:translateX(-45%);
      opacity:0;
      transition:
        transform 1.1s ease-out,
        opacity 1.1s ease-out;
      pointer-events:none;
    }
    .doc-visible{
      opacity:1;
      transform:none;
      box-shadow:0 26px 70px rgba(0,0,0,.55);
      border-color:rgba(59,130,246,.85);
      background:radial-gradient(circle at top left,
                  rgba(59,130,246,0.24), rgba(15,23,42,1) 60%);
    }
    .doc-visible::before{
      transform:translateX(0);
      opacity:1;
    }

    .doc-hero h1{
      margin:0 0 8px;
      font-size:26px;
    }
    .doc-hero p{
      margin:4px 0 0;
      color:var(--muted);
      font-size:13px;
      max-width:540px;
    }

    .doc-section h2{
      margin:0 0 8px;
      font-size:20px;
    }
    .doc-section h3{
      margin:14px 0 4px;
      font-size:15px;
    }
    .doc-section p{
      margin:4px 0 8px;
      font-size:14px;
      line-height:1.65;
      color:var(--muted);
    }
    .doc-section ul{
      margin:6px 0 8px 1.1em;
      padding:0;
      font-size:14px;
      color:var(--muted);
    }
    .doc-section li{margin:2px 0;}
    code{
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      background:#020617;
      padding:1px 4px;
      border-radius:4px;
      border:1px solid #1f2937;
    }
  </style>

  <!-- 统一案例/FAQ 组的新外观（与帮助组截然不同） -->
  <style>
    :root{
      --case-accent: #38bdf8;
      --case-accent-2: #f472b6;
      --case-border: #1f2737;
      --case-surface: #0b1220;
      --case-muted: #b7c4da;
    }
    main.doc-page{
      max-width: 980px;
      margin:28px auto 44px;
      padding:0 18px 44px;
    }
    .doc-hero,
    .doc-section{
      position:relative;
      margin-top:26px;
      padding:22px 22px 24px;
      border-radius:14px;
      border:1px solid var(--case-border);
      border-left:3px solid var(--case-accent);
      background:
        linear-gradient(145deg, rgba(56,189,248,0.12), rgba(244,114,182,0.08)),
        linear-gradient(0deg, rgba(255,255,255,0.02), rgba(255,255,255,0)),
        var(--case-surface);
      box-shadow:0 18px 44px rgba(0,0,0,0.55);
      overflow:hidden;
      opacity:0;
      transform:translateY(18px) scale(0.99);
      transition:
        opacity .5s ease-out,
        transform .5s ease-out,
        box-shadow .5s ease-out,
        border-color .5s ease-out,
        background .8s ease-out;
    }
    .doc-hero::before,
    .doc-section::before{
      content:"";
      position:absolute;
      top:0; left:0; right:0;
      height:3px;
      background:linear-gradient(90deg, var(--case-accent), var(--case-accent-2));
      opacity:0.9;
    }
    .doc-hero::after,
    .doc-section::after{
      content:"";
      position:absolute;
      inset:6px;
      border-radius:12px;
      background:radial-gradient(circle at 14% 0%, rgba(56,189,248,0.10), transparent 55%);
      opacity:0;
      transition:opacity .8s ease-out;
      pointer-events:none;
    }
    .doc-visible{
      opacity:1;
      transform:translateY(0) scale(1);
      border-color:color-mix(in srgb, var(--case-accent) 70%, var(--case-border) 30%);
      box-shadow:0 24px 60px rgba(0,0,0,0.6);
    }
    .doc-visible::after{
      opacity:1;
    }
    .doc-hero h1{
      margin:0 0 8px;
      font-size:26px;
      letter-spacing:.01em;
    }
    .doc-hero p{
      margin:4px 0 0;
      color:var(--case-muted);
      font-size:13px;
      max-width:560px;
    }
    .doc-section h2{
      margin:0 0 8px;
      font-size:20px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .doc-section h3{
      margin:14px 0 6px;
      font-size:15px;
    }
    .doc-section p{
      margin:4px 0 8px;
      font-size:14px;
      line-height:1.65;
      color:var(--case-muted);
    }
    .doc-section ul{
      margin:6px 0 8px 1.1em;
      padding:0;
      font-size:14px;
      color:var(--case-muted);
    }
    .doc-section li{ margin:2px 0; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:3px 10px;
      border-radius:999px;
      background:rgba(56,189,248,0.14);
      border:1px solid rgba(56,189,248,0.4);
      color:#e0f2fe;
      font-size:12px;
      font-weight:600;
    }
    .case-topbar{
      max-width: 980px;
      margin:16px auto 0;
      padding:0 18px;
      display:flex;
      justify-content:flex-start;
    }
    .case-back{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:12px;
      border:1px solid var(--case-border);
      background:linear-gradient(120deg, rgba(56,189,248,0.14), rgba(244,114,182,0.12));
      color:#e5e7eb;
      cursor:pointer;
      font-size:13px;
      letter-spacing:0.1px;
      box-shadow:0 10px 28px rgba(0,0,0,0.35);
      transition:transform .15s ease, border-color .2s ease, background .2s ease;
    }
    .case-back:hover{
      transform:translateY(-1px);
      border-color:var(--case-accent);
      background:linear-gradient(120deg, rgba(56,189,248,0.22), rgba(244,114,182,0.18));
    }
    .case-back:active{ transform:translateY(0); }
  </style>
</head>
<body>
<header>
  <a href="index.html" class="brand">
    <img src="/log.svg" alt="AI Race logo" class="brand-logo">
    <span class="brand-text">AI Race</span>
  </a>
  <ul class="nav">
    <li><a href="editor.html">编辑器</a></li>
    <li><a href="lab.html">AI 实验室</a></li>
    <li><a href="dashboard.html">训练看板</a></li>
    <li><a href="arena.html">对抗 Arena</a></li>
    <li>
      <a href="#">更多 ▾</a>
      <div class="dropdown">
        <a href="help.html">帮助/原理</a>
        <a href="about.html">关于</a>
      </div>
    </li>
  </ul>
</header>

<div class="case-topbar">
  <button class="case-back" type="button"
    onclick="if (history.length > 1) { history.back(); } else { window.location.href='index.html'; }">
    ← 返回
  </button>
</div>

  <main class="doc-page">
  <section class="doc-hero">
    <h1>案例二：中等迷宫与参数对比</h1>
    <p>
      本案例在一张结构更复杂、路径更长的中等难度迷宫上，对比不同 Q-learning 参数配置
      对训练速度与最终性能的影响，是展示「调参有效性」的核心实验。
    </p>
  </section>

  <section class="doc-section">
    <h2>① 中等迷宫场景设定</h2>
    <p>在 Arena 中载入类似 <code>maze_medium_*.json</code> 的迷宫：</p>
    <ul>
      <li>迷宫尺寸中等（例如 16×16 / 20×20）。</li>
      <li>存在多条分叉路径和局部环路。</li>
      <li>最短路径可能需要几十步以上才能到达终点。</li>
    </ul>
    <p>
      奖励函数可以沿用简单迷宫的配置，也可以稍微增强「到达终点」的正奖励，
      让智能体更有动力探索长路径。
    </p>
  </section>

  <section class="doc-section">
    <h2>② 参数对比实验设计</h2>
    <p>
      为了凸显参数差异，本案例推荐设置两个有明显区别的配置：
    </p>

    <h3>配置 A：学习率高、探索期长</h3>
    <ul>
      <li>α：<code>0.25</code></li>
      <li>γ：<code>0.97</code></li>
      <li>ε 初值：<code>1.0</code></li>
      <li>ε 衰减：<code>0.997</code>（探索保持时间较长）</li>
      <li>ε 最小值：<code>0.05</code></li>
    </ul>

    <h3>配置 B：学习率低、探索期短</h3>
    <ul>
      <li>α：<code>0.08</code></li>
      <li>γ：<code>0.97</code></li>
      <li>ε 初值：<code>0.6</code></li>
      <li>ε 衰减：<code>0.990</code></li>
      <li>ε 最小值：<code>0.02</code></li>
    </ul>

    <p>
      在 Lab 页面中可以把 A 配置给智能体 A，B 配置给智能体 B，然后在 Arena 中对同一张
      中等迷宫同时训练二者，并用 Dashboard 做曲线对比。
    </p>
  </section>

  <section class="doc-section">
    <h2>③ 关键对比指标</h2>
    <p>在 Dashboard 中，重点关心以下几条曲线和统计：</p>

    <h3>1. 成功率曲线</h3>
    <ul>
      <li>哪一个智能体的成功率上升更早、更快。</li>
      <li>在长期训练后，成功率是否都能接近 100%。</li>
      <li>中途是否出现明显掉落（说明策略不稳定）。</li>
    </ul>

    <h3>2. 平均步数 / 最短步数</h3>
    <ul>
      <li>在相同 Episode 编号下，谁更早把步数比压到 2 以内。</li>
      <li>在稳定阶段，谁的步数比更接近 1（路径更接近最短）。</li>
      <li>是否出现「成功率很高但步数仍偏长」的情况。</li>
    </ul>

    <h3>3. ε 衰减曲线</h3>
    <ul>
      <li>配置 A 的 ε 通常会长时间保持在 0.3 以上。</li>
      <li>配置 B 的 ε 会更快接近 <code>epsilonMin</code>。</li>
      <li>结合成功率曲线，分析「探索久一点」是否有助于避免局部最优。</li>
    </ul>
  </section>

  <section class="doc-section">
    <h2>④ 示例分析结论（参考写法）</h2>
    <p>在报告或说明文案中，可以这样总结实验现象：</p>
    <ul>
      <li>
        在中等迷宫上，配置 A 因为 ε 衰减更慢，前期更充分探索，
        成功率曲线上升稍晚，但长期成功率更稳定。
      </li>
      <li>
        配置 B 较早进入利用阶段，前几百局内成功率上升更快，
        但平均步数 / 最短步数在复杂结构处容易卡在较高水平。
      </li>
      <li>
        综合对比可见：在迷宫复杂度提升时，
        适当增大探索期可以帮助智能体跳出局部最优。
      </li>
    </ul>
    <p>
      当然，具体实验的结论会依赖于你实际的奖励设计和迷宫几何，
      本案例更多提供一个「如何搭建参数对比实验」的模板。
    </p>
  </section>

  <section class="doc-section">
    <h2>⑤ 推荐展示方式</h2>
    <p>在演示或写报告时，可以按以下方式组织内容：</p>
    <ul>
      <li>图 1：中等迷宫俯视图，标出起终点。</li>
      <li>图 2：配置 A/B 的成功率曲线（同一坐标系）。</li>
      <li>图 3：配置 A/B 的平均步数 / 最短步数曲线。</li>
      <li>配一张表：列出两组参数和若干关键数值（如收敛速度、最终平均步数）。</li>
    </ul>
    <p>这样即可清楚说明「参数不同 → 学习曲线不同 → 表现不同」的逻辑链。</p>
  </section>
</main>

<footer class="footer">© 2025 AI Race Demo</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const els = document.querySelectorAll('.doc-hero, .doc-section')
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('doc-visible')
          io.unobserve(e.target)
        }
      })
    }, { threshold: 0.18 })
    els.forEach(el => io.observe(el))
  })
</script>
</body>
</html>



